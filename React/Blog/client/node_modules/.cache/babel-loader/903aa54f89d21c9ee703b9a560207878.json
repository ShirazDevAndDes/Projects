{"ast":null,"code":"import _asyncToGenerator from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Projects\\\\Git Repo Public\\\\React\\\\Blog\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{useState}from\"react\";import Cookies from\"js-cookie\";import{toast}from\"react-toastify\";import{Helmet}from\"react-helmet-async\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(){// User Cookie\nvar userInfo=JSON.parse(Cookies.get(\"user\"));var _useState=useState({userID:userInfo.userID,// image: {},\nname:userInfo.username,email:userInfo.email,oldPassword:\"\",newPassword:\"\",confirmPassword:\"\"}),_useState2=_slicedToArray(_useState,2),formInput=_useState2[0],setformInput=_useState2[1];// console.log(userInfo);\n// Form Input Change\nfunction handleFormChange(e){var target=e.target;var name=target.name;var value=target.value;setformInput(_objectSpread(_objectSpread({},formInput),{},_defineProperty({},name,value)));// console.log(formInput);\n}// Submit Form Function\nfunction handleSubmit(_x){return _handleSubmit.apply(this,arguments);}// Set Image in (formInput) for upload through (handleSubmit)\n// function setImage(e) {\n//   const imageFile = e.target.files[0];\n//   console.log(imageFile);\n//   document.getElementById(\"profileImage\").src =\n//     URL.createObjectURL(imageFile);\n//   setformInput({\n//     ...formInput,\n//     image: imageFile,\n//   });\n// }\nfunction _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var config;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();toast.dismiss();config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context.next=5;return axios.post(\"http://localhost:3001/editprofile\",formInput,config).then(function(response){var res=response.data;if(res.success){toast.success(res.success);}}).catch(function(err){var errors=err.response.data;console.log(errors);errors.forEach(function(error){toast.error(error);});});case 5:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Admin Profile\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Helmet application\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"form\",{action:\"#\",method:\"post\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"col-12 ps-2 pb-1 text-black-50\",children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control rounded-pill\",name:\"name\",id:\"name\",value:formInput.name,onChange:handleFormChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"col-12 ps-2 pb-1 text-black-50\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-pill\",name:\"email\",id:\"email\",value:formInput.email,onChange:handleFormChange})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"oldPassword\",className:\"col-12 ps-2 pb-1 text-black-50\",children:\"Old Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control rounded-pill\",name:\"oldPassword\",id:\"oldPassword\",onChange:handleFormChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newPassword\",className:\"col-12 ps-2 pb-1 text-black-50\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control rounded-pill\",name:\"newPassword\",id:\"newPassword\",onChange:handleFormChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 col-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",className:\"col-12 ps-2 pb-1 text-black-50\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control rounded-pill\",name:\"confirmPassword\",id:\"confirmPassword\",onChange:handleFormChange})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-orange w-100\",onClick:handleSubmit,children:\"Submit\"})})]})})})})})]});}","map":{"version":3,"names":["axios","useState","Cookies","toast","Helmet","Profile","userInfo","JSON","parse","get","userID","name","username","email","oldPassword","newPassword","confirmPassword","formInput","setformInput","handleFormChange","e","target","value","handleSubmit","preventDefault","dismiss","config","headers","Authorization","token","post","then","response","res","data","success","catch","err","errors","console","log","forEach","error"],"sources":["D:/Projects/Git Repo Public/React/Blog/client/src/pages/admin/profile.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\nimport Cookies from \"js-cookie\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Helmet } from \"react-helmet-async\";\r\n\r\nexport default function Profile() {\r\n  // User Cookie\r\n  const userInfo = JSON.parse(Cookies.get(\"user\"));\r\n\r\n  const [formInput, setformInput] = useState({\r\n    userID: userInfo.userID,\r\n    // image: {},\r\n    name: userInfo.username,\r\n    email: userInfo.email,\r\n    oldPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n  // console.log(userInfo);\r\n\r\n  // Form Input Change\r\n  function handleFormChange(e) {\r\n    const target = e.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n\r\n    setformInput({\r\n      ...formInput,\r\n      [name]: value,\r\n    });\r\n    // console.log(formInput);\r\n  }\r\n\r\n  // Submit Form Function\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    toast.dismiss();\r\n\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    await axios\r\n      .post(\"http://localhost:3001/editprofile\", formInput, config)\r\n      .then((response) => {\r\n        const res = response.data;\r\n        if (res.success) {\r\n          toast.success(res.success);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        const errors = err.response.data;\r\n        console.log(errors);\r\n        errors.forEach((error) => {\r\n          toast.error(error);\r\n        });\r\n      });\r\n  }\r\n\r\n  // Set Image in (formInput) for upload through (handleSubmit)\r\n  // function setImage(e) {\r\n  //   const imageFile = e.target.files[0];\r\n  //   console.log(imageFile);\r\n\r\n  //   document.getElementById(\"profileImage\").src =\r\n  //     URL.createObjectURL(imageFile);\r\n  //   setformInput({\r\n  //     ...formInput,\r\n  //     image: imageFile,\r\n  //   });\r\n  // }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Helmet>\r\n        <title>Admin Profile</title>\r\n        <meta name=\"description\" content=\"Helmet application\" />\r\n      </Helmet>\r\n      <div className=\"card p-4\">\r\n        <div className=\"card-body\">\r\n          <div className=\"row\">\r\n            <form action=\"#\" method=\"post\">\r\n              <div className=\"row\">\r\n                {/* Image Input */}\r\n                {/* <div className=\"col-4\">\r\n                  <label>\r\n                    <img\r\n                      src={\r\n                        userInfo.image\r\n                          ? userInfo.image\r\n                          : \"/images/No_Image_Available.jpg\"\r\n                      }\r\n                      className=\"img-fluid rounded-circle mb-3\"\r\n                      htmlFor=\"image\"\r\n                      id=\"profileImage\"\r\n                      style={{ maxHeight: \"196px\" }}\r\n                      alt=\"profile img\"\r\n                    />\r\n                    <input\r\n                      type=\"file\"\r\n                      className=\"d-none\"\r\n                      name=\"image\"\r\n                      onChange={(e) => setImage(e)}\r\n                    />\r\n                  </label>\r\n                </div> */}\r\n                <div className=\"col-6\">\r\n                  <div className=\"mb-3\">\r\n                    <label\r\n                      htmlFor=\"name\"\r\n                      className=\"col-12 ps-2 pb-1 text-black-50\"\r\n                    >\r\n                      Name\r\n                    </label>\r\n                    <div className=\"col-12\">\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"form-control rounded-pill\"\r\n                        name=\"name\"\r\n                        id=\"name\"\r\n                        value={formInput.name}\r\n                        onChange={handleFormChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-3\">\r\n                    <label\r\n                      htmlFor=\"email\"\r\n                      className=\"col-12 ps-2 pb-1 text-black-50\"\r\n                    >\r\n                      E-mail\r\n                    </label>\r\n                    <div className=\"col-12\">\r\n                      <input\r\n                        type=\"email\"\r\n                        className=\"form-control rounded-pill\"\r\n                        name=\"email\"\r\n                        id=\"email\"\r\n                        value={formInput.email}\r\n                        onChange={handleFormChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                  <div className=\"mb-3 col-12\">\r\n                    <label\r\n                      htmlFor=\"oldPassword\"\r\n                      className=\"col-12 ps-2 pb-1 text-black-50\"\r\n                    >\r\n                      Old Password\r\n                    </label>\r\n                    <div className=\"col-12\">\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"form-control rounded-pill\"\r\n                        name=\"oldPassword\"\r\n                        id=\"oldPassword\"\r\n                        onChange={handleFormChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-3 col-12\">\r\n                    <label\r\n                      htmlFor=\"newPassword\"\r\n                      className=\"col-12 ps-2 pb-1 text-black-50\"\r\n                    >\r\n                      New Password\r\n                    </label>\r\n                    <div className=\"col-12\">\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"form-control rounded-pill\"\r\n                        name=\"newPassword\"\r\n                        id=\"newPassword\"\r\n                        onChange={handleFormChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-3 col-12\">\r\n                    <label\r\n                      htmlFor=\"confirmPassword\"\r\n                      className=\"col-12 ps-2 pb-1 text-black-50\"\r\n                    >\r\n                      Confirm Password\r\n                    </label>\r\n                    <div className=\"col-12\">\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"form-control rounded-pill\"\r\n                        name=\"confirmPassword\"\r\n                        id=\"confirmPassword\"\r\n                        onChange={handleFormChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-orange w-100\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Submit\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}