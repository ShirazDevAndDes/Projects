{"ast":null,"code":"import _asyncToGenerator from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Projects\\\\Git Repo Public\\\\React\\\\Blog\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import draftToHtml from\"draftjs-to-html\";import PostCard from\"../components/postCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Search(){var params=useParams();var _useState=useState(params.search),_useState2=_slicedToArray(_useState,2),searchPosts=_useState2[0],setsearchPosts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setposts=_useState4[1];useEffect(function(){// Search for posts on page load\nsearchForPosts();},[]);// Search for posts on page load\n// OR\n// Search for posts according to name in useState SearchPosts\nfunction searchForPosts(_x){return _searchForPosts.apply(this,arguments);}function _searchForPosts(){_searchForPosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var search;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(e){e.preventDefault();}search=searchPosts;_context.next=4;return axios.post(\"/searchPost\",{search:search}).then(function(response){var res=response.data;setposts(res);console.log(res);}).catch(function(err){var error=err.response.data;});case 4:case\"end\":return _context.stop();}}},_callee);}));return _searchForPosts.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"display-5\",children:\"Search\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-10\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control rounded-pill\",type:\"text\",placeholder:\"Search\",value:searchPosts,onChange:function onChange(e){return setsearchPosts(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-orange rounded-pill\",onClick:searchForPosts,children:\"Search\"})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row pb-5\",children:/*#__PURE__*/_jsx(PostCard,{content:posts})})]});}","map":{"version":3,"names":["axios","useEffect","useState","Link","useParams","draftToHtml","PostCard","Search","params","search","searchPosts","setsearchPosts","posts","setposts","searchForPosts","e","preventDefault","post","then","response","res","data","console","log","catch","err","error","target","value"],"sources":["D:/Projects/Git Repo Public/React/Blog/client/src/pages/search.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport PostCard from \"../components/postCard\";\r\n\r\nexport default function Search() {\r\n  const params = useParams();\r\n\r\n  const [searchPosts, setsearchPosts] = useState(params.search);\r\n  const [posts, setposts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Search for posts on page load\r\n    searchForPosts();\r\n  }, []);\r\n\r\n  // Search for posts on page load\r\n  // OR\r\n  // Search for posts according to name in useState SearchPosts\r\n  async function searchForPosts(e) {\r\n    if (e) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    const search = searchPosts;\r\n\r\n    await axios\r\n      .post(\"/searchPost\", { search })\r\n      .then((response) => {\r\n        const res = response.data;\r\n        setposts(res);\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        const error = err.response.data;\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"text-center py-5\">\r\n        <h2 className=\"display-5\">Search</h2>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-10\">\r\n          <input\r\n            className=\"form-control rounded-pill\"\r\n            type=\"text\"\r\n            placeholder=\"Search\"\r\n            value={searchPosts}\r\n            onChange={(e) => setsearchPosts(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"col-2\">\r\n          <button\r\n            className=\"btn btn-orange rounded-pill\"\r\n            onClick={searchForPosts}\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n\r\n      <div className=\"row pb-5\">\r\n        <PostCard content={posts} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"sZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,C,wFAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,CAC/B,GAAMC,CAAAA,MAAM,CAAGJ,SAAS,EAAxB,CAEA,cAAsCF,QAAQ,CAACM,MAAM,CAACC,MAAR,CAA9C,wCAAOC,WAAP,eAAoBC,cAApB,eACA,eAA0BT,QAAQ,CAAC,EAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eAEAZ,SAAS,CAAC,UAAM,CACd;AACAa,cAAc,GACf,CAHQ,CAGN,EAHM,CAAT,CAKA;AACA;AACA;AAb+B,QAchBA,CAAAA,cAdgB,sJAc/B,iBAA8BC,CAA9B,6HACE,GAAIA,CAAJ,CAAO,CACLA,CAAC,CAACC,cAAF,GACD,CAEKP,MALR,CAKiBC,WALjB,uBAOQV,CAAAA,KAAK,CACRiB,IADG,CACE,aADF,CACiB,CAAER,MAAM,CAANA,MAAF,CADjB,EAEHS,IAFG,CAEE,SAACC,QAAD,CAAc,CAClB,GAAMC,CAAAA,GAAG,CAAGD,QAAQ,CAACE,IAArB,CACAR,QAAQ,CAACO,GAAD,CAAR,CACAE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACD,CANG,EAOHI,KAPG,CAOG,SAACC,GAAD,CAAS,CACd,GAAMC,CAAAA,KAAK,CAAGD,GAAG,CAACN,QAAJ,CAAaE,IAA3B,CACD,CATG,CAPR,uDAd+B,iDAiC/B,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,WAAI,SAAS,CAAC,WAAd,oBADF,EADF,cAKE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,QAAf,uBACE,cACE,SAAS,CAAC,2BADZ,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,QAHd,CAIE,KAAK,CAAEX,WAJT,CAKE,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,CAAAA,cAAc,CAACI,CAAC,CAACY,MAAF,CAASC,KAAV,CAArB,EALZ,EADF,EADF,cAUE,YAAK,SAAS,CAAC,OAAf,uBACE,eACE,SAAS,CAAC,6BADZ,CAEE,OAAO,CAAEd,cAFX,oBADF,EAVF,GALF,cAwBE,aAxBF,cA0BE,YAAK,SAAS,CAAC,UAAf,uBACE,KAAC,QAAD,EAAU,OAAO,CAAEF,KAAnB,EADF,EA1BF,GADF,CAgCD"},"metadata":{},"sourceType":"module"}