{"ast":null,"code":"import _asyncToGenerator from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Projects\\\\Git Repo Public\\\\React\\\\Blog\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import PillContent from\"../components/pillContent\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LatestCategories(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setcategories=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),searchCategories=_useState4[0],setSearchCategories=_useState4[1];// Search categories by name\nfunction searchCategory(_x,_x2){return _searchCategory.apply(this,arguments);}function _searchCategory(){_searchCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e,searchCategory){var search;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();search=searchCategory;_context.next=4;return axios.post(\"/searchCategory\",{search:search}).then(function(response){var res=response.data;setSearchCategories(null);setcategories(res);// console.log(res);\n}).catch(function(err){var error=err.response.data;});case 4:case\"end\":return _context.stop();}}},_callee);}));return _searchCategory.apply(this,arguments);}function getAllCategory(){return _getAllCategory.apply(this,arguments);}function _getAllCategory(){_getAllCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"/showCategory\").then(function(response){var res=response.data;setcategories(res);}).catch(function(err){var error=err.response.data;});case 2:console.log(categories);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _getAllCategory.apply(this,arguments);}useEffect(function(){// Get all categories on page load\ngetAllCategory();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center pb-5\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"display-5\",children:\"Categories\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",id:\"searchCategory\",className:\"form-control rounded-pill\",placeholder:\"Search\",\"aria-describedby\":\"helpId\",onChange:function onChange(e){return searchCategory(e.target.value);}})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-orange rounded-pill col-2\",onClick:function onClick(){return searchCategory(document.getElementById(\"searchCategory\").value);},children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5\",children:[/*#__PURE__*/_jsx(PillContent,{content:categories}),/*#__PURE__*/_jsx(PillContent,{content:searchCategories}),/*#__PURE__*/_jsx(\"div\",{className:\"py-5\"})]})]})]});}","map":{"version":3,"names":["axios","useState","useEffect","Link","PillContent","LatestCategories","categories","setcategories","searchCategories","setSearchCategories","searchCategory","e","preventDefault","search","post","then","response","res","data","catch","err","error","getAllCategory","console","log","target","value","document","getElementById"],"sources":["D:/Projects/Git Repo Public/React/Blog/client/src/pages/latestCategory.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport PillContent from \"../components/pillContent\";\r\n\r\nexport default function LatestCategories() {\r\n  const [categories, setcategories] = useState(null);\r\n  const [searchCategories, setSearchCategories] = useState(null);\r\n\r\n  // Search categories by name\r\n  async function searchCategory(e, searchCategory) {\r\n    e.preventDefault();\r\n\r\n    const search = searchCategory;\r\n\r\n    await axios\r\n      .post(\"/searchCategory\", { search })\r\n      .then((response) => {\r\n        const res = response.data;\r\n        setSearchCategories(null);\r\n        setcategories(res);\r\n        // console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        const error = err.response.data;\r\n      });\r\n  }\r\n\r\n  async function getAllCategory() {\r\n    await axios\r\n      .post(\"/showCategory\")\r\n      .then((response) => {\r\n        const res = response.data;\r\n        setcategories(res);\r\n      })\r\n      .catch((err) => {\r\n        const error = err.response.data;\r\n      });\r\n    console.log(categories);\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Get all categories on page load\r\n    getAllCategory();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <div className=\"text-center pb-5\">\r\n        <h2 className=\"display-5\">Categories</h2>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-10\">\r\n          {/* <label for=\"\" className=\"form-label\"></label> */}\r\n          <input\r\n            type=\"text\"\r\n            name=\"search\"\r\n            id=\"searchCategory\"\r\n            className=\"form-control rounded-pill\"\r\n            placeholder=\"Search\"\r\n            aria-describedby=\"helpId\"\r\n            onChange={(e) => searchCategory(e.target.value)}\r\n          />\r\n        </div>\r\n        <button\r\n          className=\"btn btn-orange rounded-pill col-2\"\r\n          onClick={() =>\r\n            searchCategory(document.getElementById(\"searchCategory\").value)\r\n          }\r\n        >\r\n          Search\r\n        </button>\r\n\r\n        <div className=\"container py-5\">\r\n          <PillContent content={categories} />\r\n          <PillContent content={searchCategories} />\r\n          <div className=\"py-5\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"sZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,C,wFAEA,cAAe,SAASC,CAAAA,gBAAT,EAA4B,CACzC,cAAoCJ,QAAQ,CAAC,IAAD,CAA5C,wCAAOK,UAAP,eAAmBC,aAAnB,eACA,eAAgDN,QAAQ,CAAC,IAAD,CAAxD,yCAAOO,gBAAP,eAAyBC,mBAAzB,eAEA;AAJyC,QAK1BC,CAAAA,cAL0B,0JAKzC,iBAA8BC,CAA9B,CAAiCD,cAAjC,6HACEC,CAAC,CAACC,cAAF,GAEMC,MAHR,CAGiBH,cAHjB,uBAKQV,CAAAA,KAAK,CACRc,IADG,CACE,iBADF,CACqB,CAAED,MAAM,CAANA,MAAF,CADrB,EAEHE,IAFG,CAEE,SAACC,QAAD,CAAc,CAClB,GAAMC,CAAAA,GAAG,CAAGD,QAAQ,CAACE,IAArB,CACAT,mBAAmB,CAAC,IAAD,CAAnB,CACAF,aAAa,CAACU,GAAD,CAAb,CACA;AACD,CAPG,EAQHE,KARG,CAQG,SAACC,GAAD,CAAS,CACd,GAAMC,CAAAA,KAAK,CAAGD,GAAG,CAACJ,QAAJ,CAAaE,IAA3B,CACD,CAVG,CALR,uDALyC,yDAuB1BI,CAAAA,cAvB0B,oJAuBzC,+JACQtB,CAAAA,KAAK,CACRc,IADG,CACE,eADF,EAEHC,IAFG,CAEE,SAACC,QAAD,CAAc,CAClB,GAAMC,CAAAA,GAAG,CAAGD,QAAQ,CAACE,IAArB,CACAX,aAAa,CAACU,GAAD,CAAb,CACD,CALG,EAMHE,KANG,CAMG,SAACC,GAAD,CAAS,CACd,GAAMC,CAAAA,KAAK,CAAGD,GAAG,CAACJ,QAAJ,CAAaE,IAA3B,CACD,CARG,CADR,QAUEK,OAAO,CAACC,GAAR,CAAYlB,UAAZ,EAVF,wDAvByC,iDAoCzCJ,SAAS,CAAC,UAAM,CACd;AACAoB,cAAc,GACf,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,WAAI,SAAS,CAAC,WAAd,wBADF,EADF,cAIE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,QAAf,uBAEE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,QAFP,CAGE,EAAE,CAAC,gBAHL,CAIE,SAAS,CAAC,2BAJZ,CAKE,WAAW,CAAC,QALd,CAME,mBAAiB,QANnB,CAOE,QAAQ,CAAE,kBAACX,CAAD,QAAOD,CAAAA,cAAc,CAACC,CAAC,CAACc,MAAF,CAASC,KAAV,CAArB,EAPZ,EAFF,EADF,cAaE,eACE,SAAS,CAAC,mCADZ,CAEE,OAAO,CAAE,yBACPhB,CAAAA,cAAc,CAACiB,QAAQ,CAACC,cAAT,CAAwB,gBAAxB,EAA0CF,KAA3C,CADP,EAFX,oBAbF,cAsBE,aAAK,SAAS,CAAC,gBAAf,wBACE,KAAC,WAAD,EAAa,OAAO,CAAEpB,UAAtB,EADF,cAEE,KAAC,WAAD,EAAa,OAAO,CAAEE,gBAAtB,EAFF,cAGE,YAAK,SAAS,CAAC,MAAf,EAHF,GAtBF,GAJF,GADF,CAmCD"},"metadata":{},"sourceType":"module"}