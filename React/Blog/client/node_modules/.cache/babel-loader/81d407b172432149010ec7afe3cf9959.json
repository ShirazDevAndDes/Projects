{"ast":null,"code":"import _slicedToArray from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState,useEffect}from\"react\";import draftToHtml from\"draftjs-to-html\";import{Link}from\"react-router-dom\";import PostCard from\"../components/postCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LatestPosts(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchPosts=_useState2[0],setsearchPosts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setposts=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),allPosts=_useState6[0],setallPosts=_useState6[1];useEffect(function(){// Get all the latest posts on page load\ngetAllPosts();},[]);// Search for posts on page load\n// OR\n// Search for posts according to name in useState SearchPosts\nfunction searchForPosts(e){e.preventDefault();var search=searchPosts;axios.post(\"/searchPost\",{search:search}).then(function(response){var res=response.data;setallPosts([]);setposts(res);console.log(res);}).catch(function(err){var error=err.response.data;});}function getAllPosts(){axios.post(\"/showPost\").then(function(response){var res=response.data;setallPosts(res);console.log(res);}).catch(function(err){var error=err.response.data;});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center pb-5\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"display-5\",children:\"Posts\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-10\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"search\",id:\"search\",className:\"form-control rounded-pill\",placeholder:\"Search\",\"aria-describedby\":\"helpId\",onChange:function onChange(e){return setsearchPosts(e.target.value);}})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-orange rounded-pill col-2\",onClick:searchForPosts,children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container py-4\",children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(PostCard,{content:posts}),/*#__PURE__*/_jsx(PostCard,{content:allPosts})]})]})]})]});}","map":{"version":3,"names":["axios","useState","useEffect","draftToHtml","Link","PostCard","LatestPosts","searchPosts","setsearchPosts","posts","setposts","allPosts","setallPosts","getAllPosts","searchForPosts","e","preventDefault","search","post","then","response","res","data","console","log","catch","err","error","target","value"],"sources":["D:/Projects/Git Repo Public/React/Blog/client/src/pages/latestPosts.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState, useEffect } from \"react\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport PostCard from \"../components/postCard\";\r\n\r\nexport default function LatestPosts() {\r\n  const [searchPosts, setsearchPosts] = useState(\"\");\r\n\r\n  const [posts, setposts] = useState([]);\r\n  const [allPosts, setallPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Get all the latest posts on page load\r\n    getAllPosts();\r\n  }, []);\r\n\r\n  // Search for posts on page load\r\n  // OR\r\n  // Search for posts according to name in useState SearchPosts\r\n  function searchForPosts(e) {\r\n    e.preventDefault();\r\n\r\n    const search = searchPosts;\r\n\r\n    axios\r\n      .post(\"/searchPost\", { search })\r\n      .then((response) => {\r\n        const res = response.data;\r\n        setallPosts([]);\r\n        setposts(res);\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        const error = err.response.data;\r\n      });\r\n  }\r\n\r\n  function getAllPosts() {\r\n    axios\r\n      .post(\"/showPost\")\r\n      .then((response) => {\r\n        const res = response.data;\r\n        setallPosts(res);\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        const error = err.response.data;\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <div className=\"text-center pb-5\">\r\n        <h2 className=\"display-5\">Posts</h2>\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-10\">\r\n          {/* <label for=\"\" className=\"form-label\"></label> */}\r\n          <input\r\n            type=\"text\"\r\n            name=\"search\"\r\n            id=\"search\"\r\n            className=\"form-control rounded-pill\"\r\n            placeholder=\"Search\"\r\n            aria-describedby=\"helpId\"\r\n            onChange={(e) => setsearchPosts(e.target.value)}\r\n          />\r\n        </div>\r\n        <button\r\n          className=\"btn btn-orange rounded-pill col-2\"\r\n          onClick={searchForPosts}\r\n        >\r\n          Search\r\n        </button>\r\n\r\n        <div className=\"container py-4\">\r\n          <hr />\r\n          <div className=\"row\">\r\n            <PostCard content={posts} />\r\n            <PostCard content={allPosts} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"mIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CAEA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,C,wFAEA,cAAe,SAASC,CAAAA,WAAT,EAAuB,CACpC,cAAsCL,QAAQ,CAAC,EAAD,CAA9C,wCAAOM,WAAP,eAAoBC,cAApB,eAEA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eAEAV,SAAS,CAAC,UAAM,CACd;AACAW,WAAW,GACZ,CAHQ,CAGN,EAHM,CAAT,CAKA;AACA;AACA;AACA,QAASC,CAAAA,cAAT,CAAwBC,CAAxB,CAA2B,CACzBA,CAAC,CAACC,cAAF,GAEA,GAAMC,CAAAA,MAAM,CAAGV,WAAf,CAEAP,KAAK,CACFkB,IADH,CACQ,aADR,CACuB,CAAED,MAAM,CAANA,MAAF,CADvB,EAEGE,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,GAAMC,CAAAA,GAAG,CAAGD,QAAQ,CAACE,IAArB,CACAV,WAAW,CAAC,EAAD,CAAX,CACAF,QAAQ,CAACW,GAAD,CAAR,CACAE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACD,CAPH,EAQGI,KARH,CAQS,SAACC,GAAD,CAAS,CACd,GAAMC,CAAAA,KAAK,CAAGD,GAAG,CAACN,QAAJ,CAAaE,IAA3B,CACD,CAVH,EAWD,CAED,QAAST,CAAAA,WAAT,EAAuB,CACrBb,KAAK,CACFkB,IADH,CACQ,WADR,EAEGC,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,GAAMC,CAAAA,GAAG,CAAGD,QAAQ,CAACE,IAArB,CACAV,WAAW,CAACS,GAAD,CAAX,CACAE,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACD,CANH,EAOGI,KAPH,CAOS,SAACC,GAAD,CAAS,CACd,GAAMC,CAAAA,KAAK,CAAGD,GAAG,CAACN,QAAJ,CAAaE,IAA3B,CACD,CATH,EAUD,CAED,mBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,WAAI,SAAS,CAAC,WAAd,mBADF,EADF,cAIE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,QAAf,uBAEE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,QAFP,CAGE,EAAE,CAAC,QAHL,CAIE,SAAS,CAAC,2BAJZ,CAKE,WAAW,CAAC,QALd,CAME,mBAAiB,QANnB,CAOE,QAAQ,CAAE,kBAACP,CAAD,QAAOP,CAAAA,cAAc,CAACO,CAAC,CAACa,MAAF,CAASC,KAAV,CAArB,EAPZ,EAFF,EADF,cAaE,eACE,SAAS,CAAC,mCADZ,CAEE,OAAO,CAAEf,cAFX,oBAbF,cAoBE,aAAK,SAAS,CAAC,gBAAf,wBACE,aADF,cAEE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,QAAD,EAAU,OAAO,CAAEL,KAAnB,EADF,cAEE,KAAC,QAAD,EAAU,OAAO,CAAEE,QAAnB,EAFF,GAFF,GApBF,GAJF,GADF,CAmCD"},"metadata":{},"sourceType":"module"}