{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\React\\\\Blog2\\\\client\\\\src\\\\pages\\\\admin\\\\editor.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { EditorState, ContentState, convertFromHTML, convertFromRaw, convertToRaw } from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport draftToHtml from \"draftjs-to-html\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MyEditor(_ref) {\n  _s();\n\n  let {\n    getValue,\n    editorContent\n  } = _ref;\n  const [editorState, setEditorState] = useState(() => EditorState.createEmpty()); // const [editorState, setEditorState] = useState(() => convertFromRaw(content));\n\n  const [editorData, seteditorData] = useState(null); // const editorState = useRef(EditorState.createEmpty());\n\n  useEffect(() => {\n    const contentBlocks = convertFromHTML(editorContent);\n    const contentState = ContentState.createFromBlockArray(contentBlocks); // console.log(contentState);\n    // convertFromRaw(content)\n\n    setEditorState(EditorState.createWithContent(contentState)); // setEditorState(convertFromRaw(content));\n  }, []);\n  const content = {\n    blocks: [{\n      key: \"637gr\",\n      text: \"Initialized from content.\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [{\n        offset: 0,\n        length: 11,\n        style: \"BOLD\"\n      }],\n      entityRanges: [],\n      data: {}\n    }],\n    entityMap: {}\n  };\n\n  const updateTextDescription = async state => {\n    await setEditorState(state);\n    const data = convertToRaw(editorState.getCurrentContent()); // console.log(data);\n    // console.log(draftToHtml(data));\n\n    getValue(data); // await seteditorData(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Editor, {\n      editorState: editorState // toolbarClassName=\"toolbarClassName\"\n      // wrapperClassName=\"wrapperClassName\"\n      // editorClassName=\"editorClassName\"\n      ,\n      onEditorStateChange: updateTextDescription\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n} // export default class MyEditor extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       editorState: EditorState.createEmpty(),\n//     };\n//   }\n//   onEditorStateChange = (editorState) => {\n//     this.setState({\n//       editorState,\n//     });\n//   };\n//   render() {\n//     const { editorState } = this.state;\n//     return (\n//       <Editor\n//         editorState={editorState}\n//         wrapperClassName=\"demo-wrapper\"\n//         editorClassName=\"demo-editor\"\n//         onEditorStateChange={(this.props.getValue = this.onEditorStateChange)}\n//       />\n//     );\n//   }\n// }\n\n_s(MyEditor, \"avgt2ttipqFvcgtY4SEOltY9Y4o=\");\n\n_c = MyEditor;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyEditor\");","map":{"version":3,"names":["useState","useEffect","useRef","EditorState","ContentState","convertFromHTML","convertFromRaw","convertToRaw","Editor","draftToHtml","MyEditor","getValue","editorContent","editorState","setEditorState","createEmpty","editorData","seteditorData","contentBlocks","contentState","createFromBlockArray","createWithContent","content","blocks","key","text","type","depth","inlineStyleRanges","offset","length","style","entityRanges","data","entityMap","updateTextDescription","state","getCurrentContent"],"sources":["D:/Projects/React/Blog2/client/src/pages/admin/editor.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  EditorState,\r\n  ContentState,\r\n  convertFromHTML,\r\n  convertFromRaw,\r\n  convertToRaw,\r\n} from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\n\r\nimport draftToHtml from \"draftjs-to-html\";\r\n\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\n\r\nexport default function MyEditor({ getValue, editorContent }) {\r\n  const [editorState, setEditorState] = useState(() =>\r\n    EditorState.createEmpty()\r\n  );\r\n  // const [editorState, setEditorState] = useState(() => convertFromRaw(content));\r\n  const [editorData, seteditorData] = useState(null);\r\n  // const editorState = useRef(EditorState.createEmpty());\r\n\r\n  useEffect(() => {\r\n    const contentBlocks = convertFromHTML(editorContent);\r\n    const contentState = ContentState.createFromBlockArray(contentBlocks);\r\n    // console.log(contentState);\r\n    // convertFromRaw(content)\r\n    setEditorState(EditorState.createWithContent(contentState));\r\n    // setEditorState(convertFromRaw(content));\r\n  }, []);\r\n\r\n  const content = {\r\n    blocks: [\r\n      {\r\n        key: \"637gr\",\r\n        text: \"Initialized from content.\",\r\n        type: \"unstyled\",\r\n        depth: 0,\r\n        inlineStyleRanges: [\r\n          {\r\n            offset: 0,\r\n            length: 11,\r\n            style: \"BOLD\",\r\n          },\r\n        ],\r\n        entityRanges: [],\r\n        data: {},\r\n      },\r\n    ],\r\n    entityMap: {},\r\n  };\r\n\r\n  const updateTextDescription = async (state) => {\r\n    await setEditorState(state);\r\n\r\n    const data = convertToRaw(editorState.getCurrentContent());\r\n    // console.log(data);\r\n    // console.log(draftToHtml(data));\r\n    getValue(data);\r\n    // await seteditorData(data);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Editor\r\n        editorState={editorState}\r\n        // toolbarClassName=\"toolbarClassName\"\r\n        // wrapperClassName=\"wrapperClassName\"\r\n        // editorClassName=\"editorClassName\"\r\n        onEditorStateChange={updateTextDescription}\r\n      />\r\n\r\n      {/* <div>{editorData}</div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\n// export default class MyEditor extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       editorState: EditorState.createEmpty(),\r\n//     };\r\n//   }\r\n\r\n//   onEditorStateChange = (editorState) => {\r\n//     this.setState({\r\n//       editorState,\r\n//     });\r\n//   };\r\n\r\n//   render() {\r\n//     const { editorState } = this.state;\r\n//     return (\r\n//       <Editor\r\n//         editorState={editorState}\r\n//         wrapperClassName=\"demo-wrapper\"\r\n//         editorClassName=\"demo-editor\"\r\n//         onEditorStateChange={(this.props.getValue = this.onEditorStateChange)}\r\n//       />\r\n//     );\r\n//   }\r\n// }\r\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AACA,SACEC,WADF,EAEEC,YAFF,EAGEC,eAHF,EAIEC,cAJF,EAKEC,YALF,QAMO,UANP;AAOA,SAASC,MAAT,QAAuB,qBAAvB;AAEA,OAAOC,WAAP,MAAwB,iBAAxB;AAEA,OAAO,kDAAP;;AAEA,eAAe,SAASC,QAAT,OAA+C;EAAA;;EAAA,IAA7B;IAAEC,QAAF;IAAYC;EAAZ,CAA6B;EAC5D,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,MAC7CG,WAAW,CAACY,WAAZ,EAD4C,CAA9C,CAD4D,CAI5D;;EACA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BjB,QAAQ,CAAC,IAAD,CAA5C,CAL4D,CAM5D;;EAEAC,SAAS,CAAC,MAAM;IACd,MAAMiB,aAAa,GAAGb,eAAe,CAACO,aAAD,CAArC;IACA,MAAMO,YAAY,GAAGf,YAAY,CAACgB,oBAAb,CAAkCF,aAAlC,CAArB,CAFc,CAGd;IACA;;IACAJ,cAAc,CAACX,WAAW,CAACkB,iBAAZ,CAA8BF,YAA9B,CAAD,CAAd,CALc,CAMd;EACD,CAPQ,EAON,EAPM,CAAT;EASA,MAAMG,OAAO,GAAG;IACdC,MAAM,EAAE,CACN;MACEC,GAAG,EAAE,OADP;MAEEC,IAAI,EAAE,2BAFR;MAGEC,IAAI,EAAE,UAHR;MAIEC,KAAK,EAAE,CAJT;MAKEC,iBAAiB,EAAE,CACjB;QACEC,MAAM,EAAE,CADV;QAEEC,MAAM,EAAE,EAFV;QAGEC,KAAK,EAAE;MAHT,CADiB,CALrB;MAYEC,YAAY,EAAE,EAZhB;MAaEC,IAAI,EAAE;IAbR,CADM,CADM;IAkBdC,SAAS,EAAE;EAlBG,CAAhB;;EAqBA,MAAMC,qBAAqB,GAAG,MAAOC,KAAP,IAAiB;IAC7C,MAAMtB,cAAc,CAACsB,KAAD,CAApB;IAEA,MAAMH,IAAI,GAAG1B,YAAY,CAACM,WAAW,CAACwB,iBAAZ,EAAD,CAAzB,CAH6C,CAI7C;IACA;;IACA1B,QAAQ,CAACsB,IAAD,CAAR,CAN6C,CAO7C;EACD,CARD;;EAUA,oBACE;IAAA,uBACE,QAAC,MAAD;MACE,WAAW,EAAEpB,WADf,CAEE;MACA;MACA;MAJF;MAKE,mBAAmB,EAAEsB;IALvB;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAaD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;GAxFwBzB,Q;;KAAAA,Q"},"metadata":{},"sourceType":"module"}