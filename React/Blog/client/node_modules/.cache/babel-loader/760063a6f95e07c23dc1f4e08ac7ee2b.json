{"ast":null,"code":"import _asyncToGenerator from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Projects\\\\Git Repo Public\\\\React\\\\Blog\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import draftToHtml from\"draftjs-to-html\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Post(){var params=useParams();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),image=_useState4[0],setImage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];function getPost(_x){return _getPost.apply(this,arguments);}// Get posts by ID from (id) parameter in URL\nfunction _getPost(){_getPost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var post,postTitle,postImage,postContent,convertedContent;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"/getPost\",{postID:id}).then(function(response){var res=response.data;console.log(res);return res;}).catch(function(err){var error=err.response.data;});case 2:post=_context.sent;postTitle=post.title;postImage=post.image;postContent=post.content;convertedContent=draftToHtml(postContent);// console.log(convertedContent);\nsetTitle(postTitle);setImage(postImage);setContent(postContent);case 10:case\"end\":return _context.stop();}}},_callee);}));return _getPost.apply(this,arguments);}useEffect(function(){getPost(params.id);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.REACT_APP_SERVER_BASE+\"upload/\"+image,className:\"img-fluid rounded p-0\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-8 py-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:title&&title}),/*#__PURE__*/_jsx(\"hr\",{}),content&&/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:draftToHtml(content)}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-4\"})]})});}","map":{"version":3,"names":["axios","useEffect","useState","useParams","draftToHtml","Post","params","title","setTitle","image","setImage","content","setContent","getPost","id","post","postID","then","response","res","data","console","log","catch","err","error","postTitle","postImage","postContent","convertedContent","process","env","REACT_APP_SERVER_BASE","__html"],"sources":["D:/Projects/Git Repo Public/React/Blog/client/src/pages/post.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\n\r\nexport default function Post() {\r\n  const params = useParams();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  async function getPost(id) {\r\n    const post = await axios\r\n      .post(\"/getPost\", { postID: id })\r\n      .then((response) => {\r\n        const res = response.data;\r\n        console.log(res);\r\n        return res;\r\n      })\r\n      .catch((err) => {\r\n        const error = err.response.data;\r\n      });\r\n\r\n    const postTitle = post.title;\r\n    const postImage = post.image;\r\n    const postContent = post.content;\r\n\r\n    const convertedContent = draftToHtml(postContent);\r\n    // console.log(convertedContent);\r\n\r\n    setTitle(postTitle);\r\n    setImage(postImage);\r\n    setContent(postContent);\r\n  }\r\n\r\n  // Get posts by ID from (id) parameter in URL\r\n  useEffect(() => {\r\n    getPost(params.id);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <img\r\n            src={process.env.REACT_APP_SERVER_BASE + \"upload/\" + image}\r\n            className=\"img-fluid rounded p-0\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div className=\"col-12 col-md-8 py-5\">\r\n          <h1>{title && title}</h1>\r\n          <hr />\r\n\r\n          {content && (\r\n            <div\r\n              dangerouslySetInnerHTML={{ __html: draftToHtml(content) }}\r\n            ></div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-12 col-md-4\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"sZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAC7B,GAAMC,CAAAA,MAAM,CAAGH,SAAS,EAAxB,CAEA,cAA0BD,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eACA,eAA8BR,QAAQ,CAAC,EAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAL6B,QAOdC,CAAAA,OAPc,4CA+B7B;AA/B6B,qFAO7B,iBAAuBC,EAAvB,kMACqBd,CAAAA,KAAK,CACrBe,IADgB,CACX,UADW,CACC,CAAEC,MAAM,CAAEF,EAAV,CADD,EAEhBG,IAFgB,CAEX,SAACC,QAAD,CAAc,CAClB,GAAMC,CAAAA,GAAG,CAAGD,QAAQ,CAACE,IAArB,CACAC,OAAO,CAACC,GAAR,CAAYH,GAAZ,EACA,MAAOA,CAAAA,GAAP,CACD,CANgB,EAOhBI,KAPgB,CAOV,SAACC,GAAD,CAAS,CACd,GAAMC,CAAAA,KAAK,CAAGD,GAAG,CAACN,QAAJ,CAAaE,IAA3B,CACD,CATgB,CADrB,QACQL,IADR,eAYQW,SAZR,CAYoBX,IAAI,CAACR,KAZzB,CAaQoB,SAbR,CAaoBZ,IAAI,CAACN,KAbzB,CAcQmB,WAdR,CAcsBb,IAAI,CAACJ,OAd3B,CAgBQkB,gBAhBR,CAgB2BzB,WAAW,CAACwB,WAAD,CAhBtC,CAiBE;AAEApB,QAAQ,CAACkB,SAAD,CAAR,CACAhB,QAAQ,CAACiB,SAAD,CAAR,CACAf,UAAU,CAACgB,WAAD,CAAV,CArBF,uDAP6B,0CAgC7B3B,SAAS,CAAC,UAAM,CACdY,OAAO,CAACP,MAAM,CAACQ,EAAR,CAAP,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,YAAK,SAAS,CAAC,QAAf,uBACE,YACE,GAAG,CAAEgB,OAAO,CAACC,GAAR,CAAYC,qBAAZ,CAAoC,SAApC,CAAgDvB,KADvD,CAEE,SAAS,CAAC,uBAFZ,CAGE,GAAG,CAAC,EAHN,EADF,EADF,cAQE,aAAK,SAAS,CAAC,sBAAf,wBACE,oBAAKF,KAAK,EAAIA,KAAd,EADF,cAEE,aAFF,CAIGI,OAAO,eACN,YACE,uBAAuB,CAAE,CAAEsB,MAAM,CAAE7B,WAAW,CAACO,OAAD,CAArB,CAD3B,EALJ,GARF,cAkBE,YAAK,SAAS,CAAC,iBAAf,EAlBF,GADF,EADF,CAwBD"},"metadata":{},"sourceType":"module"}