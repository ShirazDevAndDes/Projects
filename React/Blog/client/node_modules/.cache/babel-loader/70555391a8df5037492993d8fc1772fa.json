{"ast":null,"code":"import _asyncToGenerator from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Projects/Git Repo Public/React/Blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\Projects\\\\Git Repo Public\\\\React\\\\Blog\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Cookies from\"js-cookie\";import{Helmet}from\"react-helmet-async\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminLogin(){// http://localhost:3001/editprofile\nvar navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),formInput=_useState2[0],setformInput=_useState2[1];// useEffect(() => {}, []);\n// Handle Form Input on change of input field\nfunction handleFormChange(e){var Target=e.target;var Name=Target.name;var Value=Target.value;setformInput(_objectSpread(_objectSpread({},formInput),{},_defineProperty({},Name,Value)));}// Handle login form on click\nfunction handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var form_msg,errors,msg;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();form_msg=document.getElementById(\"form_message\");form_msg.style.display=\"none\";errors=\"\";msg={success:[],errors:[]};axios.defaults.withCredentials=true;_context2.next=8;return axios.post(\"/loginAdmin\",formInput).then(function(response){// console.log(response.data);\nvar res=response.data;var success=res.success;var userData=Cookies.get(\"user\");if(userData.length>0){msg.success+='<p class=\"mb-1\">'+success+\"</p>\";navigate(\"/admin/dashboard\");}}).catch(function(err){var errorData=err.response.data;var errorKeys=Object.keys(errorData);var errorIsEmpty=errorKeys.length>0;console.log(errorData);if(errorIsEmpty){errorKeys.forEach(function(key,value){if(errorData[key].length>0){msg.errors.push(errorData[key]);// console.log(errorData[key]);\n}});}});case 8:Object.values(msg.errors).forEach(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log(value);\nerrors+='<p class=\"mb-1\">'+value+\"</p>\";case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref.apply(this,arguments);};}());// console.log(msg.errors);\nif(msg.success.length>0){form_msg.classList.remove(\"alert-danger\");form_msg.classList.add(\"alert-success\");form_msg.innerHTML=msg.success;form_msg.style.display=\"block\";}else if(msg.errors.length>0){form_msg.classList.remove(\"alert-success\");form_msg.classList.add(\"alert-danger\");form_msg.innerHTML=errors;form_msg.style.display=\"block\";}case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid bg-orange\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Admin Login\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"Helmet application\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card col-md-4 col-lg-3 m-auto\",minheight:\"348\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"p-4 h3 text-center\",children:\"Admin Login\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"col-12 ps-2 pb-1 text-black-50\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control rounded-pill\",name:\"email\",id:\"email\",onChange:handleFormChange})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"col-12 ps-2 pb-1 text-black-50\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control rounded-pill\",name:\"pass\",id:\"pass\",onChange:handleFormChange})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-10\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-orange\",onClick:handleSubmit,children:\"Submit\"})})})]}),/*#__PURE__*/_jsx(\"div\",{id:\"form_message\",className:\"alert my-2\",style:{display:\"none\"}})]})})]})});}","map":{"version":3,"names":["axios","useState","useNavigate","Cookies","Helmet","AdminLogin","navigate","formInput","setformInput","handleFormChange","e","Target","target","Name","name","Value","value","handleSubmit","preventDefault","form_msg","document","getElementById","style","display","errors","msg","success","defaults","withCredentials","post","then","response","res","data","userData","get","length","catch","err","errorData","errorKeys","Object","keys","errorIsEmpty","console","log","forEach","key","push","values","classList","remove","add","innerHTML"],"sources":["D:/Projects/Git Repo Public/React/Blog/client/src/pages/admin/adminLogin.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\nimport { Helmet } from \"react-helmet-async\";\r\n\r\nexport default function AdminLogin() {\r\n  // http://localhost:3001/editprofile\r\n\r\n  const navigate = useNavigate();\r\n  const [formInput, setformInput] = useState({});\r\n\r\n  // useEffect(() => {}, []);\r\n\r\n  // Handle Form Input on change of input field\r\n  function handleFormChange(e) {\r\n    const Target = e.target;\r\n    const Name = Target.name;\r\n    const Value = Target.value;\r\n\r\n    setformInput({\r\n      ...formInput,\r\n      [Name]: Value,\r\n    });\r\n  }\r\n\r\n  // Handle login form on click\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    const form_msg = document.getElementById(\"form_message\");\r\n    form_msg.style.display = \"none\";\r\n\r\n    let errors = \"\";\r\n\r\n    const msg = { success: [], errors: [] };\r\n\r\n    axios.defaults.withCredentials = true;\r\n    await axios\r\n      .post(\"/loginAdmin\", formInput)\r\n      .then((response) => {\r\n        // console.log(response.data);\r\n        const res = response.data;\r\n        const success = res.success;\r\n        const userData = Cookies.get(\"user\");\r\n\r\n        if (userData.length > 0) {\r\n          msg.success += '<p class=\"mb-1\">' + success + \"</p>\";\r\n          navigate(\"/admin/dashboard\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        const errorData = err.response.data;\r\n        const errorKeys = Object.keys(errorData);\r\n        const errorIsEmpty = errorKeys.length > 0;\r\n\r\n        console.log(errorData);\r\n\r\n        if (errorIsEmpty) {\r\n          errorKeys.forEach((key, value) => {\r\n            if (errorData[key].length > 0) {\r\n              msg.errors.push(errorData[key]);\r\n              // console.log(errorData[key]);\r\n            }\r\n          });\r\n        }\r\n      });\r\n\r\n    Object.values(msg.errors).forEach(async (value) => {\r\n      // console.log(value);\r\n\r\n      errors += '<p class=\"mb-1\">' + value + \"</p>\";\r\n    });\r\n    // console.log(msg.errors);\r\n    if (msg.success.length > 0) {\r\n      form_msg.classList.remove(\"alert-danger\");\r\n      form_msg.classList.add(\"alert-success\");\r\n      form_msg.innerHTML = msg.success;\r\n      form_msg.style.display = \"block\";\r\n    } else if (msg.errors.length > 0) {\r\n      form_msg.classList.remove(\"alert-success\");\r\n      form_msg.classList.add(\"alert-danger\");\r\n      form_msg.innerHTML = errors;\r\n      form_msg.style.display = \"block\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid bg-orange\">\r\n      <div className=\"row\">\r\n        <Helmet>\r\n          <title>Admin Login</title>\r\n          <meta name=\"description\" content=\"Helmet application\" />\r\n        </Helmet>\r\n        <div className=\"card col-md-4 col-lg-3 m-auto\" minheight=\"348\">\r\n          <div className=\"card-body\">\r\n            <p className=\"p-4 h3 text-center\">Admin Login</p>\r\n            <form>\r\n              <div className=\"mb-3\">\r\n                <label\r\n                  htmlFor=\"email\"\r\n                  className=\"col-12 ps-2 pb-1 text-black-50\"\r\n                >\r\n                  E-mail\r\n                </label>\r\n                <div className=\"col-12\">\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"form-control rounded-pill\"\r\n                    name=\"email\"\r\n                    id=\"email\"\r\n                    onChange={handleFormChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <label\r\n                  htmlFor=\"email\"\r\n                  className=\"col-12 ps-2 pb-1 text-black-50\"\r\n                >\r\n                  Password\r\n                </label>\r\n                <div className=\"col-12\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control rounded-pill\"\r\n                    name=\"pass\"\r\n                    id=\"pass\"\r\n                    onChange={handleFormChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"mb-3\">\r\n                <div className=\"col-sm-10\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-orange\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    Submit\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n            <div\r\n              id=\"form_message\"\r\n              className=\"alert my-2\"\r\n              style={{ display: \"none\" }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"6pBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,MAAT,KAAuB,oBAAvB,C,wFAEA,cAAe,SAASC,CAAAA,UAAT,EAAsB,CACnC;AAEA,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,cAAkCD,QAAQ,CAAC,EAAD,CAA1C,wCAAOM,SAAP,eAAkBC,YAAlB,eAEA;AAEA;AACA,QAASC,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3B,GAAMC,CAAAA,MAAM,CAAGD,CAAC,CAACE,MAAjB,CACA,GAAMC,CAAAA,IAAI,CAAGF,MAAM,CAACG,IAApB,CACA,GAAMC,CAAAA,KAAK,CAAGJ,MAAM,CAACK,KAArB,CAEAR,YAAY,gCACPD,SADO,wBAETM,IAFS,CAEFE,KAFE,GAAZ,CAID,CAED;AApBmC,QAqBpBE,CAAAA,YArBoB,gJAqBnC,kBAA4BP,CAA5B,8IACEA,CAAC,CAACQ,cAAF,GAEMC,QAHR,CAGmBC,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAHnB,CAIEF,QAAQ,CAACG,KAAT,CAAeC,OAAf,CAAyB,MAAzB,CAEIC,MANN,CAMe,EANf,CAQQC,GARR,CAQc,CAAEC,OAAO,CAAE,EAAX,CAAeF,MAAM,CAAE,EAAvB,CARd,CAUExB,KAAK,CAAC2B,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAVF,uBAWQ5B,CAAAA,KAAK,CACR6B,IADG,CACE,aADF,CACiBtB,SADjB,EAEHuB,IAFG,CAEE,SAACC,QAAD,CAAc,CAClB;AACA,GAAMC,CAAAA,GAAG,CAAGD,QAAQ,CAACE,IAArB,CACA,GAAMP,CAAAA,OAAO,CAAGM,GAAG,CAACN,OAApB,CACA,GAAMQ,CAAAA,QAAQ,CAAG/B,OAAO,CAACgC,GAAR,CAAY,MAAZ,CAAjB,CAEA,GAAID,QAAQ,CAACE,MAAT,CAAkB,CAAtB,CAAyB,CACvBX,GAAG,CAACC,OAAJ,EAAe,mBAAqBA,OAArB,CAA+B,MAA9C,CACApB,QAAQ,CAAC,kBAAD,CAAR,CACD,CACF,CAZG,EAaH+B,KAbG,CAaG,SAACC,GAAD,CAAS,CACd,GAAMC,CAAAA,SAAS,CAAGD,GAAG,CAACP,QAAJ,CAAaE,IAA/B,CACA,GAAMO,CAAAA,SAAS,CAAGC,MAAM,CAACC,IAAP,CAAYH,SAAZ,CAAlB,CACA,GAAMI,CAAAA,YAAY,CAAGH,SAAS,CAACJ,MAAV,CAAmB,CAAxC,CAEAQ,OAAO,CAACC,GAAR,CAAYN,SAAZ,EAEA,GAAII,YAAJ,CAAkB,CAChBH,SAAS,CAACM,OAAV,CAAkB,SAACC,GAAD,CAAM/B,KAAN,CAAgB,CAChC,GAAIuB,SAAS,CAACQ,GAAD,CAAT,CAAeX,MAAf,CAAwB,CAA5B,CAA+B,CAC7BX,GAAG,CAACD,MAAJ,CAAWwB,IAAX,CAAgBT,SAAS,CAACQ,GAAD,CAAzB,EACA;AACD,CACF,CALD,EAMD,CACF,CA5BG,CAXR,QAyCEN,MAAM,CAACQ,MAAP,CAAcxB,GAAG,CAACD,MAAlB,EAA0BsB,OAA1B,0FAAkC,iBAAO9B,KAAP,kHAChC;AAEAQ,MAAM,EAAI,mBAAqBR,KAArB,CAA6B,MAAvC,CAHgC,sDAAlC,iEAKA;AACA,GAAIS,GAAG,CAACC,OAAJ,CAAYU,MAAZ,CAAqB,CAAzB,CAA4B,CAC1BjB,QAAQ,CAAC+B,SAAT,CAAmBC,MAAnB,CAA0B,cAA1B,EACAhC,QAAQ,CAAC+B,SAAT,CAAmBE,GAAnB,CAAuB,eAAvB,EACAjC,QAAQ,CAACkC,SAAT,CAAqB5B,GAAG,CAACC,OAAzB,CACAP,QAAQ,CAACG,KAAT,CAAeC,OAAf,CAAyB,OAAzB,CACD,CALD,IAKO,IAAIE,GAAG,CAACD,MAAJ,CAAWY,MAAX,CAAoB,CAAxB,CAA2B,CAChCjB,QAAQ,CAAC+B,SAAT,CAAmBC,MAAnB,CAA0B,eAA1B,EACAhC,QAAQ,CAAC+B,SAAT,CAAmBE,GAAnB,CAAuB,cAAvB,EACAjC,QAAQ,CAACkC,SAAT,CAAqB7B,MAArB,CACAL,QAAQ,CAACG,KAAT,CAAeC,OAAf,CAAyB,OAAzB,CACD,CAzDH,yDArBmC,+CAiFnC,mBACE,YAAK,SAAS,CAAC,2BAAf,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,MAAC,MAAD,yBACE,sCADF,cAEE,aAAM,IAAI,CAAC,aAAX,CAAyB,OAAO,CAAC,oBAAjC,EAFF,GADF,cAKE,YAAK,SAAS,CAAC,+BAAf,CAA+C,SAAS,CAAC,KAAzD,uBACE,aAAK,SAAS,CAAC,WAAf,wBACE,UAAG,SAAS,CAAC,oBAAb,yBADF,cAEE,qCACE,aAAK,SAAS,CAAC,MAAf,wBACE,cACE,OAAO,CAAC,OADV,CAEE,SAAS,CAAC,gCAFZ,oBADF,cAOE,YAAK,SAAS,CAAC,QAAf,uBACE,cACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,2BAFZ,CAGE,IAAI,CAAC,OAHP,CAIE,EAAE,CAAC,OAJL,CAKE,QAAQ,CAAEd,gBALZ,EADF,EAPF,GADF,cAkBE,aAAK,SAAS,CAAC,MAAf,wBACE,cACE,OAAO,CAAC,OADV,CAEE,SAAS,CAAC,gCAFZ,sBADF,cAOE,YAAK,SAAS,CAAC,QAAf,uBACE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,2BAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,EAAE,CAAC,MAJL,CAKE,QAAQ,CAAEA,gBALZ,EADF,EAPF,GAlBF,cAmCE,YAAK,SAAS,CAAC,MAAf,uBACE,YAAK,SAAS,CAAC,WAAf,uBACE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,gBAFZ,CAGE,OAAO,CAAEQ,YAHX,oBADF,EADF,EAnCF,GAFF,cAiDE,YACE,EAAE,CAAC,cADL,CAEE,SAAS,CAAC,YAFZ,CAGE,KAAK,CAAE,CAAEM,OAAO,CAAE,MAAX,CAHT,EAjDF,GADF,EALF,GADF,EADF,CAmED"},"metadata":{},"sourceType":"module"}